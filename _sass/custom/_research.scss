/* Grid container */
.feature__wrapper {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: $space-md;
  margin-bottom: $space-lg;
  align-items: stretch; // make grid items same height
}

/* Each feature card */
.feature__item {
  display: flex; // so the child can stretch
  float:none;
  height: 100%;
}

/* Card content container */
.feature__item .archive__item {
  display: flex;
  flex-direction: column;
  padding: $space-sm;
  background-color: $color-surface;
  border: 1px solid $color-border-soft;
  box-shadow: $shadow-subtle;
  border-radius: 0;
  transition: 0.12s ease;
  text-align: left;
  height: 100%;
  min-height: $space-3xl * 3; // ≈ previous 220px
}

/* Feature title: icon aligned to first line + nicer spacing */
.feature__item .archive__item-title {
  display: flex;
  align-items: baseline;
  gap: $space-xs;
  font-size: $font-size-base;
  font-weight: $font-weight-semibold;
  line-height: 1.25;
  margin: 0 0 $space-xs;
  color: $color-text-strong;
}

/* Icon inside the title */
.feature__item .archive__item-title .icon,
.feature__item .archive__item-title i,
.feature__item .archive__item-title svg {
  margin-top: 0;
  flex-shrink: 0;
  line-height: 1;
}

/* Excerpt text should take remaining vertical space */
.feature__item .archive__item-excerpt {
  font-size: $font-size-xs;
  line-height: 1.4;
  margin: 0 0 $space-sm;
  color: $color-text-muted;
  flex-grow: 1; // lets excerpt expand but keeps bottom aligned
}

/* "Learn more" container + link */
.feature__item .archive__item-body {
  margin-top: auto;
  padding-bottom: $space-xs;
}

.feature__item .archive__item-body > p {
  margin: 0;
  text-align: right;
  padding-bottom: $space-xxs;
  font-size: $font-size-xxs;
}

.feature__item .archive__item-body a {
  font-size: $font-size-xxs;
  color: $color-text-muted;
  text-decoration: none;
}

/* Hover state */
.feature__item .archive__item:hover {
  transform: translateY(-1px);
  box-shadow: $shadow-card;
  border-color: $color-border-soft;
}

/* Single column on small screens */
@media (max-width: $bp-small) {
  .feature__wrapper {
    grid-template-columns: minmax(0, 1fr);
  }
}

/* Research page only: make feature row a proper grid */
body.page--research .feature__wrapper {
  display: grid;
  grid-template-columns: repeat(auto-fit, minmax(260px, 1fr));
  gap: $space-md;
  border-bottom: none;
  margin-bottom: $space-lg;
  align-items: stretch; // make grid items same height
}

/* Each feature card – override the theme's float + width */
body.page--research .feature__item {
  display: flex;   // so the child can stretch
  float: none;     // cancel Minimal Mistakes float
  width: 100%;     // fill the grid column
  margin: 0;       // optional: remove leftover margins
  height: 100%;
}

/* Headings after the feature row on research page */
body.page--research .page__content > .feature__wrapper + h2 {
  margin-top: $space-md;
  padding-top: 0;
  border-top: none;
}
